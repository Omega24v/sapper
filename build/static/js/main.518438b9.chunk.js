(this.webpackJsonpsapper=this.webpackJsonpsapper||[]).push([[0],{18:function(e,t,n){e.exports=n(29)},23:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(13),o=n.n(i),s=(n(23),n(1)),u=n(2),l=n(5),c=n(4),d=n(6),p=n(3),h=n(7),f=n(8),b=function(){function e(t,n){Object(s.a)(this,e),this.board=t,this.pos=n,this.bombed=!1,this.explored=!1,this.flagged=!1}return Object(u.a)(e,[{key:"adjacentBombCount",value:function(){var e=0;return this.neighbors().forEach((function(t){t.bombed&&e++})),e}},{key:"explore",value:function(){if(this.flagged||this.explored)return this;this.explored=!0,this.bombed||0!==this.adjacentBombCount()||this.neighbors().forEach((function(e){e.explore()}))}},{key:"neighbors",value:function(){var t=this,n=[];return e.DELTAS.forEach((function(e){var r=[e[0]+t.pos[0],e[1]+t.pos[1]];t.board.onBoard(r)&&n.push(r)})),n.map((function(e){return t.board.grid[e[0]][e[1]]}))}},{key:"plantBomb",value:function(){this.bombed=!0}},{key:"toggleFlag",value:function(){return!this.explored&&(this.flagged=!this.flagged,!0)}}]),e}();b.DELTAS=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];var m=function(){function e(t,n){Object(s.a)(this,e),this.gridSize=t,this.grid=[],this.numBombs=n,this.generateBoard(),this.plantBombs()}return Object(u.a)(e,[{key:"generateBoard",value:function(){for(var e=0;e<this.gridSize;e++){this.grid.push([]);for(var t=0;t<this.gridSize;t++){var n=new b(this,[e,t]);this.grid[e].push(n)}}}},{key:"onBoard",value:function(e){return e[0]>=0&&e[0]<this.gridSize&&e[1]>=0&&e[1]<this.gridSize}},{key:"plantBombs",value:function(){for(var e=0;e<this.numBombs;){var t=Math.floor(Math.random()*(this.gridSize-1)),n=Math.floor(Math.random()*(this.gridSize-1)),r=this.grid[t][n];r.bombed||(r.plantBomb(),e++)}}},{key:"lost",value:function(){var e=!1;return this.grid.forEach((function(t){t.forEach((function(t){t.bombed&&t.explored&&(e=!0)}))})),e}},{key:"won",value:function(){var e=!0;return this.grid.forEach((function(t){t.forEach((function(t){t.flagged!==t.revealed&&t.flagged===t.bombed||(e=!1)}))})),e}}]),e}();function g(){var e=Object(h.a)(["\n            border-color: none;\n            background: #024161;\n        "]);return g=function(){return e},e}function v(){var e=Object(h.a)(['\n    background: #507a90;\n    width: 45px;\n    height: 45px;\n    border-radius: 5px;\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n    border-color: #507a90;\n    font-family: "Arial", sans-serif;\n    font-weight: 900;\n    color: #fff;\n    cursor: pointer;\n    transition: 100ms all ease-in;\n    ',"\n"]);return v=function(){return e},e}var x=f.b.div(v(),(function(e){return e.explored&&Object(f.a)(g())})),j=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(p.a)(n)),n.getValue=n.getValue.bind(Object(p.a)(n)),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleClick",value:function(e){e.preventDefault();var t=this.props.tile.flagged,n="contextmenu"===e.type;n&&(t=!t),this.props.updateGame(this.props.tile,t,n)}},{key:"getValue",value:function(){return this.props.gameOver&&this.props.tile.explore(),this.props.tile.explored?this.props.tile.bombed?"\u2622\ufe0f":0===this.props.tile.adjacentBombCount()?null:this.props.tile.adjacentBombCount():this.props.tile.flagged?"\ud83d\udea9":null}},{key:"render",value:function(){return a.a.createElement(x,{onContextMenu:this.handleClick,onClick:this.handleClick,explored:this.props.reveal},this.getValue())}}]),t}(r.Component);function k(){var e=Object(h.a)(["\n    background: #0f2949;\n    width: 500px;\n    height: 500px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex-wrap: wrap;\n    padding: 22px;\n    box-shadow: 4px 5px 20px 0px rgba(200, 200, 200, 1);\n    border-style: inset;\n    border-color: #507a90;\n    border-width: 5px;\n"]);return k=function(){return e},e}var O=f.b.div(k()),y=function(e){function t(e){return Object(s.a)(this,t),Object(l.a)(this,Object(c.a)(t).call(this))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(O,null,this.props.board.grid.map((function(t,n){return t.map((function(t,n){return a.a.createElement(j,{key:n,tile:t,reveal:t.explored||e.props.revealBoard(),updateGame:e.props.updateGame,gameOver:e.props.revealBoard()})}))})))}}]),t}(r.Component);function B(){var e=Object(h.a)(['\n    flex-wrap: wrap;\n    background: #0f2949;\n    color: #fff;\n    font-family: "Arial", sans-serif;\n    margin-bottom: 41px;\n    text-align: center;\n    padding: 22px;\n    transition: 300ms all ease-in;\n    h3 {\n        letter-spacing: 1px;\n        font-size: 2.5rem;\n        margin: 0;\n    }\n    div {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        background: #fff;\n        width: 50%;\n        height: 40%;\n    }\n    button {\n        background: red;\n        color: #fff;\n        border: none;\n        border-radius: 5px;\n        text-transform: uppercase;\n        font-size: 1.2rem;\n        font-weight: 900;\n        outline: none;\n        padding: 10px 15px;\n        margin: 20px auto 10px;\n        cursor: pointer;\n        display: none;\n        &.visible {\n            display: block;\n        }\n    }\n']);return B=function(){return e},e}function w(){var e=Object(h.a)(['\n    h1 {\n        font-size: 24px;\n        color: #1a1a1a;\n        font-family: "Arial", sans-serif;\n        text-align: center;\n    }\n']);return w=function(){return e},e}var E=f.b.div(w()),G=f.b.div(B()),C=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(c.a)(t).call(this))).state={board:new m(9,9),isModalOpen:!1,status:"Try your luck!\ud83d\ude01"},e.updateGame=e.updateGame.bind(Object(p.a)(e)),e.checkGame=e.checkGame.bind(Object(p.a)(e)),e.resetGame=e.resetGame.bind(Object(p.a)(e)),e.openModal=e.openModal.bind(Object(p.a)(e)),e.revealBoard=e.revealBoard.bind(Object(p.a)(e)),e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"updateGame",value:function(e,t,n){var r=this;if(e.explored)return null;n&&e.toggleFlag(),t||n||e.explore(),this.setState((function(){return{board:r.state.board}})),this.checkGame()}},{key:"checkGame",value:function(){var e=this.state.board.lost(),t=this.state.board.won();e&&this.openModal("You Lost."),t&&this.openModal("You Win!")}},{key:"revealBoard",value:function(){return this.state.board.lost()||this.state.board.won()}},{key:"openModal",value:function(e){this.setState((function(){return{isModalOpen:!0,status:e}}))}},{key:"resetGame",value:function(){this.setState((function(){return{board:new m(9,9),status:"Game in Progress"}}))}},{key:"render",value:function(){return a.a.createElement(E,null,a.a.createElement(G,null,a.a.createElement("h3",null,this.state.status),a.a.createElement("button",{className:this.revealBoard()?"visible":"",onClick:this.resetGame},"Restart")),a.a.createElement(y,{board:this.state.board,updateGame:this.updateGame,revealBoard:this.revealBoard}))}}]),t}(r.Component),M=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(C,null)}}]),t}(r.Component);o.a.render(a.a.createElement(M,null),document.getElementById("app"))}},[[18,1,2]]]);
//# sourceMappingURL=main.518438b9.chunk.js.map